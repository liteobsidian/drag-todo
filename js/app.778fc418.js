(function(t){function e(e){for(var n,a,d=e[0],s=e[1],u=e[2],l=0,p=[];l<d.length;l++)a=d[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);c&&c(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,d=1;d<o.length;d++){var s=o[d];0!==r[s]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},r={app:0},i=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/drag-todo/";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],s=d.push.bind(d);d.push=e,d=d.slice();for(var u=0;u<d.length;u++)e(d[u]);var c=s;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("9085")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("todo")],1)},i=[],a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"grid-template"},[o("div",{staticClass:"header"},[t._v("Simple TODO")]),o("div",{staticClass:"content"},t._l(t.getInitArray,(function(e){return o("todo-wrapper",{key:e.type,attrs:{title:e.title,type:e.type,items:t.getItemsByType(e.type)}})})),1),t._m(0)])])},d=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer"},[t._v("Другие мои работы на"),o("a",{staticClass:"link",attrs:{href:"https://trywrap.ru/"}},[t._v("trywrap.ru")])])}],s=o("5530"),u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper"},[o("div",{staticClass:"title"},[t._v(t._s(t.title))]),o("div",{staticClass:"todosWrapper",class:{todosWrapperInputMode:t.inputMode},attrs:{id:t.type},on:{drop:function(e){return e.preventDefault(),t.drop(e,t.type)},dragover:function(t){t.preventDefault()}}},[t.items.length?t._e():o("div",{staticClass:"placeholder"},[t._v("Добавьте или перенесите сюда задание")]),t._l(t.items,(function(e){return o("todo-item",{key:e.id,staticClass:"draggableItem",attrs:{title:e.title,date:e.date,time:e.time,text:e.text,id:e.id},on:{dragstart:t.drag,deleteTodo:function(o){return t.deleteTodo(e.id)}}})})),t.inputMode?t._e():o("div",{staticClass:"dry"}),t.inputMode?o("input-block",{staticClass:"inputTodo",attrs:{buttonType:t.type},on:{skipInput:t.toggleInputMode,addNewTodo:t.addNewTodo}}):o("button",{staticClass:"addBtn",attrs:{type:"button"},on:{click:t.toggleInputMode}},[t._v("+")])],2)])},c=[],l=(o("c975"),o("a9e3"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todoItem",class:{highlite:t.isDrag},attrs:{draggable:"true"},on:{dragstart:function(e){return t.drag(e)},dragend:function(e){t.isDrag=!1}}},[o("div",{staticClass:"title"},[t._v(t._s(t.title))]),o("div",{staticClass:"date"},[t._v(t._s(t.date)+" в "+t._s(t.time))]),o("div",{staticClass:"text"},[t._v(t._s(t.text))]),o("button",{staticClass:"delete",attrs:{type:"button"},on:{click:t.deleteTodo}},[t._v("×")])])}),p=[],f={name:"todoItem",props:{date:{type:String,default:"5.11.2020"},time:{type:String,default:"00:00"},title:{type:String,default:"Hello"},text:{type:String,default:"World"}},data:function(){return{isDrag:!1}},methods:{drag:function(t){this.isDrag=!0,this.$emit("dragstart",t)},deleteTodo:function(){this.$emit("deleteTodo")}}},m=f,v=(o("e1a0"),o("2877")),b=Object(v["a"])(m,l,p,!1,null,"d1d7a486",null),g=b.exports,y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form",class:{errorForm:t.error}},[o("form",{on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.validateSubmit(e)},submit:function(t){t.preventDefault()}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todoObj.title,expression:"todoObj.title"}],staticClass:"title",attrs:{id:"title",type:"text",placeholder:"Введите заголовок"},domProps:{value:t.todoObj.title},on:{input:function(e){e.target.composing||t.$set(t.todoObj,"title",e.target.value)}}}),o("div",{staticClass:"timing"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todoObj.date,expression:"todoObj.date"}],staticClass:"date",attrs:{type:"date"},domProps:{value:t.todoObj.date},on:{input:function(e){e.target.composing||t.$set(t.todoObj,"date",e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.todoObj.time,expression:"todoObj.time"}],staticClass:"time",attrs:{type:"time"},domProps:{value:t.todoObj.time},on:{input:function(e){e.target.composing||t.$set(t.todoObj,"time",e.target.value)}}})]),o("div",{staticClass:"textarea-wrapper"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.todoObj.text,expression:"todoObj.text"}],staticClass:"textarea",attrs:{id:"description",placeholder:"Введите описание задания"},domProps:{value:t.todoObj.text},on:{input:function(e){e.target.composing||t.$set(t.todoObj,"text",e.target.value)}}}),t.error?o("div",{staticClass:"error"},[t._v("Заполните все поля")]):t._e(),o("button",{staticClass:"submit",attrs:{type:"button"},on:{click:t.validateSubmit}},[t._v("↩")])]),o("button",{staticClass:"skip",attrs:{type:"button"},on:{click:t.handleSkip}},[t._v("-")])])])},h=[],O=(o("4160"),o("a15b"),o("b64b"),o("ac1f"),o("1276"),o("159b"),{name:"inputBlock",props:{buttonType:{type:String,default:"planned",validator:function(t){return-1!==["planned","working","completed"].indexOf(t)}}},data:function(){return{todoObj:{title:"",date:"",time:"",text:"",type:""},error:!1}},methods:{validateSubmit:function(){var t=this.todoObj,e=t.title,o=t.date,n=t.time,r=t.text;this.error=!(e&&o&&n&&r),!this.error&&this.addNewTodo()},addNewTodo:function(){this.$emit("addNewTodo",Object(s["a"])(Object(s["a"])({},this.todoObj),{},{type:this.buttonType,date:this.todoObj.date.split("-").reverse().join(".")})),this.clearObj()},clearObj:function(){var t=this;Object.keys(this.todoObj).forEach((function(e){t.todoObj[e]=""}))},handleSkip:function(){this.$emit("skipInput")}}}),j=O,_=(o("c353"),Object(v["a"])(j,y,h,!1,null,"c3456484",null)),T=_.exports,x=o("2f62"),C={name:"todoWrapper",components:{InputBlock:T,TodoItem:g},props:{title:{type:String,default:"Планируется",validator:function(t){return-1!==["Планируется","В работе","Сделано"].indexOf(t)}},type:{type:String,default:"planned",validator:function(t){return-1!==["planned","working","completed"].indexOf(t)}},items:Array},data:function(){return{inputMode:!1}},methods:Object(s["a"])(Object(s["a"])({},Object(x["b"])(["addTodo","moveTodo","removeTodo"])),{},{toggleInputMode:function(){this.inputMode=!this.inputMode},addNewTodo:function(t){this.toggleInputMode(),this.addTodo(t)},drag:function(t){t.dataTransfer.setData("number",t.target.id)},drop:function(t,e){var o=Number(t.dataTransfer.getData("number"));this.moveTodo({id:o,type:e})},deleteTodo:function(t){this.removeTodo(t)}})},I=C,w=(o("6dbc"),Object(v["a"])(I,u,c,!1,null,"f2f012e8",null)),k=w.exports,S={name:"todo",components:{TodoWrapper:k},computed:Object(s["a"])({},Object(x["c"])(["getItemsByType","getInitArray"]))},M=S,$=(o("a67b"),Object(v["a"])(M,a,d,!1,null,"12c59a44",null)),N=$.exports,P={name:"App",components:{Todo:N}},D=P,E=(o("034f"),Object(v["a"])(D,r,i,!1,null,null,null)),B=E.exports,A=(o("4de4"),o("d81d"),{state:{todoItems:[],currentId:0,init:[{title:"Планируется",type:"planned"},{title:"В работе",type:"working"},{title:"Сделано",type:"completed"}]},mutations:{setCurrentId:function(t,e){t.currentId=e},addTodo:function(t,e){t.todoItems.push(e)},moveTodo:function(t,e){var o=e.id,n=e.type;t.todoItems=t.todoItems.map((function(t){return t.id===o?Object(s["a"])(Object(s["a"])({},t),{},{type:n}):t}))},removeTodo:function(t,e){t.todoItems=t.todoItems.filter((function(t){return t.id!==e}))}},actions:{addTodo:function(t,e){var o=t.getters,n=t.commit,r=o.getCurrentId;r++,n("addTodo",Object(s["a"])(Object(s["a"])({},e),{},{id:r})),n("setCurrentId",r)},moveTodo:function(t,e){var o=t.commit,n=e.id,r=e.type;o("moveTodo",{id:n,type:r})},removeTodo:function(t,e){var o=t.commit;o("removeTodo",e)}},getters:{getItemsByType:function(t){return function(e){return t.todoItems.filter((function(t){return t.type===e}))}},getCurrentId:function(t){return t.currentId},getInitArray:function(t){return t.init}}}),W=A;n["a"].use(x["a"]);var J=new x["a"].Store({modules:{todos:W}}),F=J;new n["a"]({el:"#app",store:F,render:function(t){return t(B)}}).$mount("#app")},"6dbc":function(t,e,o){"use strict";o("cb0d")},"7a4f":function(t,e,o){},9085:function(t,e,o){},a67b:function(t,e,o){"use strict";o("ef5d")},c353:function(t,e,o){"use strict";o("7a4f")},c786:function(t,e,o){},cb0d:function(t,e,o){},e1a0:function(t,e,o){"use strict";o("c786")},ef5d:function(t,e,o){}});
//# sourceMappingURL=app.778fc418.js.map